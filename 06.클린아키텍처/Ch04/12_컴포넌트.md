# 12장. 컴포넌트

## 컴포넌트란?

- 컴포넌트는 배포단위다. 즉 **시스템의 구성 요소로 배포할 수 있는 가장 작은 단위**다.
  - 자바로 치면 jar 파일이 컴포넌트


- 여러 컴포넌트를 서로 링크하여 실행 가능한 단일 파일(ex .war파일)로 생성할 수 있다.
- 잘 설계된 컴포넌트는 '독립적으로 배포와 개발'이 가능해야한다.

<br/>

## 컴포넌트 역사

### 구시대

- 프로그래머가 메모리의 어느 위치에 로드할지 직접 정해야하고, **위치가 결정되면 재배치가 불가능**함.
- 라이브러리 함수 코드를 프로그램 코드에 직접 포함 시켜 컴파일했다. => **컴파일 느리고, 한정적인 메모리**

<br/>

### 라이브러리 코드와 프로그램 코드 분리

![picture 1](../images/60b605abcd3d3a00c5c484e8abeac8abd1ec61af167e795dd01c75bbe6b80d20.png)  


- 컴파일 속도를 위하여 라이브러리 코드와 프로그램 코드 분리 => 개별 컴파일 및 특정 위치에 로드함. 
- but 코드가 커지면서 연속적으로 로드할 수 없어서 **단편화 문제** 발생

<br/>

### 재배치

- 위의 문제를 해결하고자 **컴파일러는 메모리의 위치를 재배치할 수 있는 형태로 바이너리를 생성**할 수 있도록 수정하고, 이를 **로더를 사용해서 재배치**하는 것이다.
- 컴파일러는 애플리케이션에서 라이브러리 함수를 호출한다면 함수 이름은 **"외부 참조"로 생성**하고, 라이브러리 함수를 정의하는 프로그램이라면 해당 함수 이름은 **"외부정의"로 생성**
- **외부 정의를 로드할 위치가 정해지기만 하면 로더가 외부 참조를 외부정의에 링크시킬 수 있게되는데, 이게 바로 "링킹 로더"다.**

<br/>

### 로드와 링크 분리

![picture 2](../images/51b3e0bd91eda4b221287fada839acd6392fe9645b856ccaa6cc6dd324b286d4.png)  


- 링킹 로더의 등장으로 프로그래머는 프로그램을 개별적으로 컴파일하고 로드할 수 있는 단위로 분할할 수 있게 되었다.
- 하지만 프로그램이 커지면서 => **링킹 로더가 너무 느려짐**
- 프로그래머가 느린 부분(링크 과정)을 맡았는데, 링커라는 별도의 애플리 케이션으로 이 작업을 처리하도록 만들었다.
  - 링커는 링크가 완료된 재배치 코드를 만듬
- 한번 만들어둔 실행 파일으로 로더의 로딩 과정이 아주 빨라짐.


<br>

## 결론

- 컴포넌트는 결국 런타임에 플러그인 형태로 결합할 수 있는 동적 링크파일을 말한다. (.jar 파일과 같이)

<br/>