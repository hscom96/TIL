# 10장. ISP: 인터페이스 분리 원칙

## 인터페이스 분리 원칙이란?

- "클라이언트는 자신이 사용하는 메소드에만 의존해야 한다."를 의미한다.
- 바꿔말하면 인터페이스는 그 인터페이스를 사용하는 클라이언트를 기준으로 분리해야 한다.

<br/>

## 의존성 역전 원칙 위반 문제점

![picture 2](../../../../../../images/52fc5e94431880b1a63df4223dcb8f22d91542f00a1ea21804b796b22a55e1ec.png)

위 구조는 ISP을 위반했다.

- User은 오직 op1, User2는 op2만을, User3는 op3만을 사용한다고 가정하자.
- 이때 op2의 소스코드가 변경되면 User1도 다시 컴파일 후 새로 배포해야된다. 즉 op2, op3를 전혀 사용하지 않아도 User1은 두 메서드에 의존하게 되는 문제 발생한다.

<br/>

## 해결법 (인터페이스 단위 분리)

ISP을 다음과 같이 지킬 수 있다.

![picture 3](../../../../../../images/725e0fed756472ff750e6b528e63abbef4962a65b7bc0217a2ac7ae366dd5e6e.png)

- User1의 소스코드는 U1Ops와 op1만 의존한다. 따라서 OPS에서 발생한 변경이 User1과 전혀 관계없는 변경이라면, User1을 다시 컴파일하고 새로 배포하는 상황은 없다.

<br/>

## 언어타입

ISP는 언어와 관련된 문제일 수 있다.

- 정적 타입 언어는 소스 코드에 포함된 타입선언문(import)으로 의존성이 발생하고, 재컴파일하는 상황이 초래된다.
- 동적 타입 언어는 런타임때 추론되므로 의존성이 없어서 재컴파일이 필요없다.

<br/>

## 정리

배워야할 교훈은 불필요한 짐을 실은 무언가에 의존하면 예상치도 못한 문제에 빠질 수 있다는 점이다.

<br/>