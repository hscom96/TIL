# 아이템 56. 공개된 API 요소에는 항상 문서화 주석을 작성하라


**API를 올바로 문서화하려면 공개된 모든 클래스, 인터페이스, 메서드, 필드 선언에 문서화 주석을 달아야 한다.** 
- 공개되지 않아도 유지보수 고려하면 달아야함 

<br/>

## javadoc이란?
- 소스코드 파일에서 문서화 주석이라는 특수한 형태로 기술된 설명을 API 문서로 변환해주는 유틸리티

<br/>

## 메서드용 문서화 주석 
- 해당 메서드와 클라이언트 사이의 규약을 명료하게 기술
### 작성 방법
- **어떻게 동작(how)하는지가 아닌 무엇(what)을 하는지 기술**  
- 메서드 호출 하기 위한 **전제조건을 모두 나열한다.**
  - `@throws` : 비검사 예외를 선언하여 암시적으로 기술
  - `@param` : 그 조건에 영향을 받는 매개변수에 기술할 수 있다.
- 메서드가 성공적으로 수행된 후에 만족해야 하는 **사후조건도 모두 나열한다.**
- **부작용도 문서화**해야한다.
  - 부작용이란? 사후조건으로 나타나지 않지만 시스템 상태에 어떤 변화를 가져오는 것
  - ex) 백그라운드 스레드를 시작하는 메서드 
- **요약설명 적자**
  - **메서드** 
    - 첫 번째 문장에 적자
    - 해당 메서드와 생성자 동작을 설명하는 주어가 없는 동사구로 적자
        ```
        Collection.size() : 이 컬렉션 안의 원소 개수를 반환한다.
        ```
  - **클래스, 인터페이스, 필드**
    - 대상을 설명하는 명사절로 적자
        ``` 
        Math.PI: 원주율에 가장 까까운 double값
        ```
- 설명 문서가 있다면 문서 링크 제공해줘도 좋다.
### javadoc 주석 태그
#### `@param`
  - 매개 변수의 뜻 설명 (명사구)
  - 모든 매개변수에 작성하자
#### `@return`
  - 반환값 설명 (명사구)
  - 반환 타입이 void 아니라면 달자.
  - 생략 가능 (메서드 설명과 같으면)
#### `@throws`
  - 모든 예외(검사, 비검사)에 달자
#### 공통
  - 관례상 마침표를 붙이지 않음
#### `{@code}` 
  - 코드용 폰트로 렌더링함.
```java
/**
* 이 리스트에서 지정한 위치의 원소를 반환한다.
*
* <p>이 메서드는 상수 시간에 수행됨을 보장하지 <i>않는다</i>. 구현에 따라
* 원소의 위치에 비례해 시간이 걸릴 수도 있다.
*
* @param  index 반환할 원소의 인덱스; 0 이상이고 리스트 크기보다 작아야 한다.
* @return 이 리스트에서 지정한 위치의 원소
* @throws IndexOutOfBoundsException index가 범위를 벗어나면,
* 즉, ({@code index < 0 || index >= this.size()})이면 발생한다.
*/
E get(int index) {
    return null;
}
```
> - 주석 안 html 요소들을 쓰면 -> HTML 문서에 반영
#### `@implSpec` 주석
```java
/**
* 이 컬렉션이 비었다면 true를 반환한다.
*
* @implSpec 이 구현은 {@code this.size() == 0}의 결과를 반환한다.
*
* @return 이 컬렉션이 비었다면 true, 그렇지 않으면 false
*/
public boolean isEmpty() {
    return false;
}
```
- 메서드와 하위 클래스 사이의 계약을 설명함.
- 하위 클래스들이 메서드를 상속하거나 super 키워드로 호출할 때 어떻게 동작하는지 설명

> 상속용 클래스 자기사용패턴(아이템15)는 재정의 방법 문서를 남겨야함

#### `{@literal}`
HTML 메타문자 (>, <, &)을 포함시키고 싶을때 쓰면 다른 태그 무시함
```java
 /**
  * {@literal |r| < 1}이면 기하 수열이 수렴한다.
  */
 public void fragment() {
 }
```
> - 자바 10부터는 `{@summary}`쓰자
#### `{@index}`
- 중요한 용어 색인화 가능 
```java
/**
* 이 메서드는 {@index IEEE 754} 표준을 준수한다.
*/
public void fragment2() {
}
```
### 주의사항
#### **제네릭 타입, 제네릭 메서드** 
  - 모든 타입 매개변수에 주석 달자
#### **열거타입**
  - 상수에 주석을 달아야한다. (+ public 메서드들)
```java
/**
* 심포니 오케스트라의 악기 세션.
*/
public enum OrchestraSection {
    /** 탐파니, 심벌즈 같은 타악기. */
    PERCUSSION,
    /** 바이올린, 첼로 같은 현악기. */
    STRING;
}
```
#### **애너테이션 타입**
  -  멤버들에 모두 주석을 달아야한다.
```java
/**
* 이 애너테이션이 달린 메서드는 명시한 예외를 던져야만 성공하는
* 테스트 메서드임을 나타낸다.
*/
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.METHOD)
public @interface ExceptionTest {
    /**
    * 이 애너테이션을 단 테스트 메서드가 성공하려면 던져야 하는 예외.
    * (이 클래스의 하위 타입 예외는 모두 허용된다.)
    */
    Class<? extends Throwable> value();
}
```
#### **thread-safe 관련**
  - 클래스 혹은 정적 메서드가 thread-safe하든 않하든 thread-safe수준을 반드시 API 설명에 포함해야한다.
#### **직렬화 가능성 관련**
  - 직렬화할 수 있는 클래스라면 직렬화 형태도 API설명에 기술해야 한다.